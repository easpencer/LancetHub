// Historical Outbreaks Data for Deep Dive Analytics
// Sources: WHO, CDC, Johns Hopkins Center for Health Security, Nature Reviews

export const historicalOutbreaks = [
  {
    id: 'covid19',
    name: 'COVID-19 Pandemic',
    pathogen: 'SARS-CoV-2',
    year: 2019,
    endYear: 2023,
    origin: 'Wuhan, China',
    category: 'Respiratory',
    spread: 'Global Pandemic',
    totalCases: 700000000, // WHO confirmed cases as of late 2023
    totalDeaths: 6950000, // WHO confirmed deaths
    cfr: 1.0, // Varies by country and time period, 0.5-3%
    r0: '2.5-4.0', // Original strain; Delta ~5-8, Omicron ~10
    economicImpact: 12500000000000, // IMF estimate $12.5 trillion through 2024
    affectedCountries: 195,
    keyLessons: [
      'Need for early warning systems and transparent reporting',
      'Importance of vaccine development infrastructure',
      'Critical role of public health communication',
      'Supply chain vulnerabilities for PPE and medical equipment',
      'Health equity issues amplified pandemic impact'
    ],
    responseTimeline: [
      { date: '2019-12-31', event: 'First cluster reported to WHO' },
      { date: '2020-01-30', event: 'WHO declares PHEIC' },
      { date: '2020-03-11', event: 'WHO declares pandemic' },
      { date: '2020-12-11', event: 'First vaccine approved (Pfizer-BioNTech)' },
      { date: '2023-05-05', event: 'WHO ends global health emergency' }
    ],
    innovationsSpurred: [
      'mRNA vaccine technology',
      'Digital contact tracing',
      'Wastewater surveillance',
      'Rapid diagnostic development',
      'Telehealth expansion'
    ]
  },
  {
    id: 'h1n1_2009',
    name: '2009 H1N1 Influenza Pandemic',
    pathogen: 'Influenza A(H1N1)pdm09',
    year: 2009,
    endYear: 2010,
    origin: 'Mexico/United States',
    category: 'Respiratory',
    spread: 'Global Pandemic',
    totalCases: 1400000000, // CDC global estimate 700M-1.4B cases
    totalDeaths: 284000, // WHO lab-confirmed; CDC estimates 151,700-575,400 globally
    cfr: 0.02, // Based on symptomatic cases; IFR ~0.01-0.02%
    r0: '1.4-1.6',
    economicImpact: 55000000000, // World Bank estimate
    affectedCountries: 214,
    keyLessons: [
      'Importance of flu surveillance networks',
      'Need for surge capacity in healthcare',
      'Vaccine production timeline challenges',
      'Risk communication during uncertainty',
      'Vulnerable populations identification'
    ],
    responseTimeline: [
      { date: '2009-03-15', event: 'First cases detected in Mexico' },
      { date: '2009-04-25', event: 'WHO declares PHEIC' },
      { date: '2009-06-11', event: 'WHO declares pandemic' },
      { date: '2009-10-05', event: 'First vaccine doses available' },
      { date: '2010-08-10', event: 'WHO declares end of pandemic' }
    ]
  },
  {
    id: 'ebola_2014',
    name: '2014-2016 West Africa Ebola Outbreak',
    pathogen: 'Ebola virus (Zaire ebolavirus)',
    year: 2014,
    endYear: 2016,
    origin: 'Guinea',
    category: 'Hemorrhagic Fever',
    spread: 'Regional with International Cases',
    totalCases: 28616,
    totalDeaths: 11310,
    cfr: 39.5,
    r0: '1.5-2.5',
    economicImpact: 53000000000, // $53 billion
    affectedCountries: 10,
    keyLessons: [
      'Community engagement critical for outbreak control',
      'Weak health systems amplify outbreak impact',
      'International coordination challenges',
      'Importance of rapid response teams',
      'Cultural considerations in public health response'
    ],
    responseTimeline: [
      { date: '2013-12-26', event: 'Index case (retrospectively identified)' },
      { date: '2014-03-23', event: 'WHO notified of outbreak' },
      { date: '2014-08-08', event: 'WHO declares PHEIC' },
      { date: '2014-09-16', event: 'UN Security Council resolution' },
      { date: '2016-06-09', event: 'End of PHEIC' }
    ]
  },
  {
    id: 'sars_2003',
    name: '2003 SARS Outbreak',
    pathogen: 'SARS-CoV',
    year: 2002,
    endYear: 2003,
    origin: 'Guangdong, China',
    category: 'Respiratory',
    spread: 'International',
    totalCases: 8098,
    totalDeaths: 774,
    cfr: 9.6,
    r0: '2-3',
    economicImpact: 40000000000, // $40 billion
    affectedCountries: 26,
    keyLessons: [
      'Importance of early detection and reporting',
      'Hospital infection control critical',
      'International travel screening effectiveness',
      'Need for transparent communication',
      'Laboratory biosafety importance'
    ],
    responseTimeline: [
      { date: '2002-11-16', event: 'First known case' },
      { date: '2003-02-11', event: 'WHO receives report' },
      { date: '2003-03-12', event: 'WHO global alert' },
      { date: '2003-04-16', event: 'Virus identified' },
      { date: '2003-07-05', event: 'Outbreak contained' }
    ]
  },
  {
    id: 'mers_2012',
    name: 'MERS-CoV Outbreaks',
    pathogen: 'MERS-CoV',
    year: 2012,
    endYear: 'Ongoing',
    origin: 'Saudi Arabia',
    category: 'Respiratory',
    spread: 'Regional with International Cases',
    totalCases: 2600,
    totalDeaths: 935,
    cfr: 36,
    r0: '0.3-0.8',
    economicImpact: 8800000000, // $8.8 billion
    affectedCountries: 27,
    keyLessons: [
      'Zoonotic spillover monitoring importance',
      'Healthcare-associated transmission risks',
      'Need for One Health approach',
      'Camel-human interface management',
      'Regional surveillance networks'
    ]
  },
  {
    id: 'zika_2015',
    name: '2015-2016 Zika Virus Epidemic',
    pathogen: 'Zika virus',
    year: 2015,
    endYear: 2017,
    origin: 'Brazil',
    category: 'Vector-borne',
    spread: 'Americas-wide',
    totalCases: 500000,
    totalDeaths: 18,
    cfr: 0.002,
    r0: '2.0-2.5',
    economicImpact: 18000000000, // $18 billion
    affectedCountries: 84,
    keyLessons: [
      'Novel clinical manifestations detection',
      'Vector control limitations',
      'Reproductive health emergency response',
      'Research collaboration importance',
      'Risk communication for pregnant women'
    ],
    responseTimeline: [
      { date: '2015-05-07', event: 'Brazil reports Zika outbreak' },
      { date: '2015-11-28', event: 'Microcephaly link suspected' },
      { date: '2016-02-01', event: 'WHO declares PHEIC' },
      { date: '2016-11-18', event: 'WHO ends PHEIC' }
    ]
  },
  {
    id: 'cholera_haiti_2010',
    name: '2010 Haiti Cholera Outbreak',
    pathogen: 'Vibrio cholerae',
    year: 2010,
    endYear: 2019,
    origin: 'Haiti',
    category: 'Waterborne',
    spread: 'National with Regional Spread',
    totalCases: 820000,
    totalDeaths: 9792,
    cfr: 1.2,
    r0: '1.5-2.0',
    economicImpact: 2200000000, // $2.2 billion
    affectedCountries: 4,
    keyLessons: [
      'Post-disaster vulnerability',
      'Water and sanitation critical',
      'Rapid response importance',
      'Community health workers role',
      'Long-term infrastructure needs'
    ]
  },
  {
    id: 'measles_resurgence_2019',
    name: '2019 Global Measles Resurgence',
    pathogen: 'Measles virus',
    year: 2019,
    endYear: 2020,
    origin: 'Multiple countries',
    category: 'Vaccine-preventable',
    spread: 'Global resurgence',
    totalCases: 869770,
    totalDeaths: 207500,
    cfr: 0.2, // Corrected: Measles CFR is typically 0.1-0.3% in developed countries, higher in developing
    r0: '12-18',
    economicImpact: 2800000000, // $2.8 billion
    affectedCountries: 180,
    keyLessons: [
      'Vaccine hesitancy impact',
      'Importance of high coverage (95% needed)',
      'Health system disruptions from COVID-19',
      'Need for catch-up campaigns',
      'Social media misinformation effects'
    ],
    responseTimeline: [
      { date: '2019-01-01', event: 'Major outbreaks begin in multiple countries' },
      { date: '2019-04-15', event: 'WHO raises alarm about global resurgence' },
      { date: '2019-08-29', event: 'Four European countries lose measles-free status' },
      { date: '2019-12-05', event: 'Samoa declares state of emergency' },
      { date: '2020-03-01', event: 'COVID-19 disrupts vaccination campaigns' }
    ]
  },
  {
    id: 'monkeypox_2022',
    name: '2022-2023 Mpox Global Outbreak',
    pathogen: 'Monkeypox virus',
    year: 2022,
    endYear: 2023,
    origin: 'Multiple countries',
    category: 'Contact/Respiratory',
    spread: 'Global',
    totalCases: 91000,
    totalDeaths: 156,
    cfr: 0.17,
    r0: '0.8-1.3',
    economicImpact: 1200000000, // $1.2 billion
    affectedCountries: 116,
    keyLessons: [
      'Non-endemic disease emergence',
      'Targeted population interventions',
      'Stigma reduction importance',
      'Vaccine allocation strategies',
      'Community partnership models'
    ]
  }
];

export const outbreakCategories = {
  'Respiratory': {
    color: '#3B82F6',
    examples: ['COVID-19', 'SARS', 'MERS', 'H1N1'],
    characteristics: 'Airborne/droplet transmission, rapid spread potential',
    preparednessNeeds: ['Ventilators', 'PPE', 'Isolation facilities', 'Contact tracing']
  },
  'Hemorrhagic Fever': {
    color: '#DC2626',
    examples: ['Ebola', 'Marburg', 'Lassa fever'],
    characteristics: 'High mortality, requires specialized care',
    preparednessNeeds: ['Isolation units', 'PPE training', 'Safe burial practices']
  },
  'Vector-borne': {
    color: '#10B981',
    examples: ['Zika', 'Dengue', 'Chikungunya', 'Malaria'],
    characteristics: 'Climate-sensitive, geographic distribution',
    preparednessNeeds: ['Vector control', 'Surveillance', 'Community engagement']
  },
  'Waterborne': {
    color: '#06B6D4',
    examples: ['Cholera', 'Typhoid', 'Hepatitis A'],
    characteristics: 'WASH infrastructure dependent',
    preparednessNeeds: ['Water treatment', 'Sanitation', 'Oral rehydration']
  },
  'Vaccine-preventable': {
    color: '#8B5CF6',
    examples: ['Measles', 'Polio', 'Yellow fever'],
    characteristics: 'Prevention-focused, coverage critical',
    preparednessNeeds: ['Cold chain', 'Immunization programs', 'Coverage monitoring']
  }
};

export const resilienceCorrelations = [
  {
    factor1: 'Healthcare Infrastructure',
    factor2: 'Economic Development',
    correlation: 0.82,
    significance: 'Very Strong',
    interpretation: 'Wealthier nations invest more in healthcare systems',
    evidenceBase: ['World Bank Health Expenditure Database', 'WHO Global Health Observatory']
  },
  {
    factor1: 'Information Systems',
    factor2: 'Outbreak Detection Speed',
    correlation: 0.78,
    significance: 'Strong',
    interpretation: 'Digital surveillance enables earlier detection',
    evidenceBase: ['ProMED analysis', 'WHO Event-Based Surveillance data']
  },
  {
    factor1: 'Social Trust',
    factor2: 'Vaccine Acceptance',
    correlation: 0.71,
    significance: 'Strong',
    interpretation: 'Higher trust correlates with better vaccine uptake',
    evidenceBase: ['Wellcome Global Monitor', 'Vaccine Confidence Project']
  },
  {
    factor1: 'Governance Quality',
    factor2: 'Outbreak Response Time',
    correlation: -0.68,
    significance: 'Strong Negative',
    interpretation: 'Better governance reduces response delays',
    evidenceBase: ['Worldwide Governance Indicators', 'GHS Index']
  },
  {
    factor1: 'Community Health Workers',
    factor2: 'Rural Health Outcomes',
    correlation: 0.74,
    significance: 'Strong',
    interpretation: 'CHWs critical for reaching underserved populations',
    evidenceBase: ['WHO CHW Impact Studies', 'Lancet Global Health Reviews']
  },
  {
    factor1: 'Laboratory Capacity',
    factor2: 'Antimicrobial Resistance Detection',
    correlation: 0.69,
    significance: 'Moderate-Strong',
    interpretation: 'Lab networks enable AMR surveillance',
    evidenceBase: ['WHO GLASS Report', 'CDC AR Threats Report']
  },
  {
    factor1: 'Climate Vulnerability',
    factor2: 'Vector-borne Disease Risk',
    correlation: 0.77,
    significance: 'Strong',
    interpretation: 'Climate change expands disease vector habitats',
    evidenceBase: ['IPCC Health Chapter', 'Lancet Countdown']
  },
  {
    factor1: 'Supply Chain Resilience',
    factor2: 'Mortality Reduction',
    correlation: -0.65,
    significance: 'Moderate-Strong Negative',
    interpretation: 'Reliable supplies reduce preventable deaths',
    evidenceBase: ['WHO Essential Medicines', 'Supply Chain Management Studies']
  }
];

export const resilienceInsights = {
  criticalFactors: [
    {
      name: 'Early Warning Systems',
      impact: 'High',
      description: 'Countries with robust surveillance detect outbreaks 3-4 weeks earlier on average',
      bestPractices: ['Integrated disease surveillance', 'Community event-based reporting', 'Digital health tools'],
      exemplars: ['South Korea', 'Singapore', 'Germany']
    },
    {
      name: 'One Health Integration',
      impact: 'High',
      description: '75% of emerging diseases are zoonotic, requiring cross-sector collaboration',
      bestPractices: ['Joint human-animal surveillance', 'Environmental monitoring', 'Cross-ministry coordination'],
      exemplars: ['Netherlands', 'Canada', 'Australia']
    },
    {
      name: 'Community Engagement',
      impact: 'Critical',
      description: 'Community trust reduces transmission by 40-60% during outbreaks',
      bestPractices: ['Local leader involvement', 'Cultural adaptation', 'Two-way communication'],
      exemplars: ['Rwanda', 'Kerala (India)', 'New Zealand']
    },
    {
      name: 'Health Equity Focus',
      impact: 'High',
      description: 'Addressing disparities reduces overall outbreak severity by 30%',
      bestPractices: ['Targeted interventions', 'Free healthcare access', 'Social protection'],
      exemplars: ['Nordic countries', 'Cuba', 'Costa Rica']
    }
  ],
  
  emergingTrends: [
    {
      trend: 'Digital Health Revolution',
      timeframe: '2020-2025',
      description: 'AI-powered surveillance, digital contact tracing, telehealth expansion',
      opportunities: ['Earlier detection', 'Better resource allocation', 'Remote care delivery'],
      challenges: ['Privacy concerns', 'Digital divide', 'Data governance']
    },
    {
      trend: 'Climate-Health Nexus',
      timeframe: '2023-2030',
      description: 'Increasing recognition of climate impacts on disease emergence',
      opportunities: ['Predictive modeling', 'Adaptation planning', 'Co-benefits approach'],
      challenges: ['Complex interactions', 'Long-term planning', 'Resource competition']
    },
    {
      trend: 'Genomic Surveillance',
      timeframe: '2021-2025',
      description: 'Routine pathogen sequencing for variant tracking',
      opportunities: ['Variant detection', 'Transmission tracking', 'Vaccine updates'],
      challenges: ['Capacity building', 'Data sharing', 'Equity concerns']
    }
  ],
  
  investmentPriorities: [
    {
      area: 'Primary Healthcare',
      roi: '7:1',
      timeToImpact: '2-3 years',
      evidence: 'Every $1 invested in PHC returns $7 in health and economic benefits'
    },
    {
      area: 'Disease Surveillance',
      roi: '10:1',
      timeToImpact: '1-2 years',
      evidence: 'Early detection prevents 90% of potential outbreak costs'
    },
    {
      area: 'Workforce Development',
      roi: '5:1',
      timeToImpact: '3-5 years',
      evidence: 'Trained healthcare workers reduce mortality by 40%'
    },
    {
      area: 'Research & Development',
      roi: '15:1',
      timeToImpact: '5-10 years',
      evidence: 'Vaccine platforms from COVID-19 applicable to future threats'
    }
  ]
};

export function calculateOutbreakSeverityScore(outbreak) {
  // Normalize different factors to create composite score
  const mortalityScore = Math.min(outbreak.cfr / 50 * 100, 100); // CFR up to 50%
  const spreadScore = outbreak.affectedCountries / 195 * 100; // Proportion of countries
  const economicScore = Math.min(outbreak.economicImpact / 1000000000000 * 10, 100); // Up to $10T
  const durationScore = Math.min((outbreak.endYear === 'Ongoing' ? 5 : outbreak.endYear - outbreak.year) / 5 * 100, 100); // Up to 5 years
  
  return Math.round((mortalityScore + spreadScore + economicScore + durationScore) / 4);
}

export function getOutbreakLessonsLearned(category) {
  const lessons = {
    'Respiratory': [
      'Airborne transmission requires universal masking',
      'Ventilation improvements critical in buildings',
      'Rapid diagnostic testing enables containment',
      'Contact tracing effectiveness depends on speed'
    ],
    'Hemorrhagic Fever': [
      'Community engagement essential for control',
      'Safe burial practices must be culturally sensitive',
      'Healthcare worker protection is paramount',
      'Survivor support reduces stigma and aids recovery'
    ],
    'Vector-borne': [
      'Integrated vector management most effective',
      'Climate monitoring improves prediction',
      'Community participation in source reduction',
      'Personal protection education critical'
    ],
    'Waterborne': [
      'WASH infrastructure is primary prevention',
      'Oral rehydration saves lives at scale',
      'Cholera vaccination in outbreak settings',
      'Water quality monitoring systems needed'
    ],
    'Vaccine-preventable': [
      'Maintaining high coverage prevents outbreaks',
      'Addressing hesitancy requires trust-building',
      'Catch-up campaigns critical after disruptions',
      'Cold chain integrity determines success'
    ]
  };
  
  return lessons[category] || [];
}